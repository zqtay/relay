"use strict";(self.webpackChunkrelay=self.webpackChunkrelay||[]).push([[391],{4391:function(s,n,e){e.r(n),e.d(n,{default:function(){return m}});var t=e(885),a=e(2791),i=e(6871),l=e(6713),o=e(8794),c=e(917),r=e(8587),d=e(184),u=function(s){var n=s.show,e=s.inputs,t=s.setStatus,a="",i=[];n&&(a=window.location.origin.toString()+"/relay/#/?puzzle="+c.q.getEncodedFromSettings().data,i=c.q.getSolution().data);var l=function(s,n){return null!==s&&null!==n&&0!==n.length&&!s.every((function(s,e){return s===n[e]}))}(e,i);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"fs-4",children:["You have solved this puzzle",!l&&"!"]}),(0,d.jsx)("div",{className:"",children:l&&"... and found an alternate solution!"}),(0,d.jsx)("hr",{}),l&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"text-start fw-semibold",children:"Original solution: "}),(0,d.jsx)("div",{children:(0,d.jsx)("b",{children:i.join(", ")})}),(0,d.jsx)("hr",{})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-start fw-semibold",children:"Share this puzzle:"}),(0,d.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[(0,d.jsx)("input",{className:"form-control",type:"text",value:a,readOnly:!0}),(0,d.jsx)("span",{className:"fa-lg ms-2",onClick:function(){var s=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("i",{className:"fa-solid fa-md fa-circle-check modal-status"}),(0,d.jsx)("span",{className:"me-auto modal-status",children:"Link copied"})]});navigator.clipboard.writeText(a),t(s)},children:(0,d.jsx)("i",{className:"fa-solid fa-link results-dialog-button"})})]})]})]})},m=function(s){var n=s.show,e=s.inputs,m=s.dismiss,f=(0,a.useState)(""),h=(0,t.Z)(f,2),x=h[0],j=h[1],v=(0,a.useState)(!1),g=(0,t.Z)(v,2),b=g[0],p=g[1],N=(0,i.s0)();(0,a.useEffect)((function(){j(""),p(!1)}),[n]);return(0,d.jsx)(l.Z,{show:n,icon:"fa-trophy",title:"Success",content:(0,d.jsx)(u,{show:n,inputs:e,setStatus:j}),btnConfirm:(0,d.jsx)(o.Z,{className:"modal-confirm-button",onClick:function(){j(""),p(!0),setTimeout((function(){var s={mode:c.q.getMode().data},n=new c.l;n.genPuzzleAsync(s).then((function(s){if(s.status===r.bb&&(s=n.getEncodedFromSettings()).status===r.bb)return m(),void N("/?puzzle=".concat(s.data),{replace:!0});p(!1)}))}),500)},isLoading:b,text:"New puzzle"}),status:x,dismiss:m})}},6713:function(s,n,e){e.d(n,{Z:function(){return c}});var t=e(2791),a=e(184),i=function(s,n){(0,t.useEffect)((function(){function e(e){s.current&&!s.current.contains(e.target)&&n()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[s])},l=function(s){var n=s.icon,e=s.title,t=s.dismiss;return(0,a.jsxs)("div",{className:"modal-header",children:[(0,a.jsx)("span",{className:"fa-lg modal-title-icon",children:(0,a.jsx)("i",{className:"fa-solid fa-lg ".concat(n)})}),(0,a.jsx)("h4",{className:"modal-title ms-2",children:e}),(0,a.jsx)("span",{className:"fa-lg ms-auto",onClick:t,children:(0,a.jsx)("i",{className:"fa-solid fa-lg fa-circle-xmark modal-dismiss-button"})})]})},o=function(s){var n=s.btnConfirm,e=s.btnCancel,t=s.status;return(0,a.jsxs)("div",{className:"modal-footer",children:[t,e,n]})},c=function(s){var n=s.show,e=s.icon,c=s.title,r=s.content,d=s.btnConfirm,u=s.btnCancel,m=s.status,f=s.dismiss,h=n?"show":"hidden",x=(0,t.useRef)(null);return i(x,f),(0,a.jsx)("div",{className:"modal ".concat(h),children:(0,a.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:(0,a.jsxs)("div",{className:"modal-content shadow-sm",ref:x,children:[(0,a.jsx)(l,{icon:e,title:c,dismiss:f}),(0,a.jsx)("div",{className:"modal-body",children:r}),(0,a.jsx)(o,{btnConfirm:d,btnCancel:u,status:m})]})})})}},8794:function(s,n,e){var t=e(184);n.Z=function(s){var n=s.className,e=void 0===n?"":n,a=s.onClick,i=s.isLoading,l=s.text,o=void 0===l?"OK":l,c=s.isLoadingText,r=void 0===c?" Loading... ":c;return(0,t.jsxs)("button",{type:"button",className:"btn btn-primary ".concat(e),onClick:a,disabled:i,children:[i&&(0,t.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),i&&r,!i&&o]})}}}]);
//# sourceMappingURL=391.8ecb5429.chunk.js.map