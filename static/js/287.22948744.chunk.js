"use strict";(self.webpackChunkrelay=self.webpackChunkrelay||[]).push([[287],{2287:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var s=t(885),a=t(2791),r=t(6871),i=t(184),l=function(e,n){(0,a.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&n()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e])},o=function(e){var n=e.icon,t=e.title,s=e.dismiss;return(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("span",{className:"fa-lg modal-title-icon",children:(0,i.jsx)("i",{className:"fa-solid fa-lg ".concat(n)})}),(0,i.jsx)("h4",{className:"modal-title ms-2",children:t}),(0,i.jsx)("span",{className:"fa-lg ms-auto",onClick:s,children:(0,i.jsx)("i",{className:"fa-solid fa-lg fa-circle-xmark modal-dismiss-button"})})]})},d=function(e){var n=e.btnConfirm,t=e.btnCancel,s=e.status;return(0,i.jsxs)("div",{className:"modal-footer",children:[s,t,n]})},c=function(e){var n=e.show,t=e.icon,s=e.title,r=e.content,c=e.btnConfirm,u=e.btnCancel,m=e.status,f=e.dismiss,x=n?"show":"hidden",h=(0,a.useRef)(null);return l(h,f),(0,i.jsx)("div",{className:"modal ".concat(x),children:(0,i.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:(0,i.jsxs)("div",{className:"modal-content shadow-sm",ref:h,children:[(0,i.jsx)(o,{icon:t,title:s,dismiss:f}),(0,i.jsx)("div",{className:"modal-body",children:r}),(0,i.jsx)(d,{btnConfirm:c,btnCancel:u,status:m})]})})})},u=function(e){for(var n=e.title,t=e.id,s=void 0===t?"":t,a=e.min,r=e.max,l=e.step,o=void 0===l?1:l,d=e._ref,c=void 0===d?null:d,u=[],m=a;m<=r;)u.push((0,i.jsx)("span",{children:m},m)),m+=o;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"slider-title text-start",children:n}),(0,i.jsx)("input",{type:"range",className:"form-range slider",id:s,min:a,max:r,step:o,ref:c}),(0,i.jsx)("div",{className:"slider-tickmarks",children:u})]})},m=t(917),f=t(8587),x=new m.l,h=function(e){var n=e.inputWordLengthRef,t=e.inputOverlapLengthRef,s=e.inputNoOfWordsRef;e.dvWordLength,e.dvOverlapLength,e.dvNoOfWords;return(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)(u,{title:"Word length",id:"input_wordLength",min:f.eu,max:f._H,_ref:n}),(0,i.jsx)("hr",{}),(0,i.jsx)(u,{title:"Overlapping characters",id:"input_overlapLength",min:f.XR,max:f.F$,_ref:t}),(0,i.jsx)("hr",{}),(0,i.jsx)(u,{title:"Number of words",id:"input_noOfWords",min:f.$T,max:f.Ac,_ref:s})]})},v=function(e){var n=e.text;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"modal-status-error fa-solid fa-md fa-triangle-exclamation"}),(0,i.jsx)("span",{className:"modal-status-error me-auto",children:n})]})},p=function(e){var n=e.onClick;return(0,i.jsx)("button",{type:"button",className:"btn btn-default",onClick:n,children:"Cancel"})},j=function(e){var n=e.onClick,t=e.isLoading;return(0,i.jsxs)("button",{type:"button",className:"btn btn-primary modal-confirm-button",onClick:n,disabled:t,children:[t&&(0,i.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),t&&" Loading... ",!t&&"Start"]})},g=function(e){var n=e.show,t=e.dismiss,l=(0,a.useRef)(null),o=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useState)(null),g=(0,s.Z)(u,2),b=g[0],N=g[1],C=(0,a.useState)(!1),w=(0,s.Z)(C,2),L=w[0],k=w[1],R=(0,r.s0)();(0,a.useEffect)((function(){N(null),k(!1),l.current.defaultValue=m.q.getMode().data.wordLen,o.current.defaultValue=m.q.getMode().data.overlapLen,d.current.defaultValue=m.q.getMode().data.maxSteps}),[n]);var O=(0,i.jsx)(h,{inputWordLengthRef:l,inputOverlapLengthRef:o,inputNoOfWordsRef:d});return(0,i.jsx)(c,{show:n,icon:"fa-dice",title:"New Puzzle",content:O,status:b,btnCancel:(0,i.jsx)(p,{onClick:function(){N(null),t()}}),btnConfirm:(0,i.jsx)(j,{onClick:function(){k(!0);var e={mode:{wordLen:l.current.value,overlapLen:o.current.value,noOfWords:d.current.value}};setTimeout((function(){x.genPuzzleAsync(e).then((function(e){if(e.status===f.bb&&(e=x.getEncodedFromSettings()).status===f.bb)return t(),void R("/?puzzle=".concat(e.data),{replace:!0});N((0,i.jsx)(v,{text:e.data})),k(!1)}))}),500)},isLoading:L}),dismiss:t})}}}]);
//# sourceMappingURL=287.22948744.chunk.js.map